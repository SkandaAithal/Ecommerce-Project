/*! For license information please see 891.d349c808.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[891],{7891:function(n,e,t){t.r(e);var r,a=t(168),o=t(4165),s=t(5861),i=t(9439),c=t(2791),d=t(6031),u=t(6991),p=t(1493),l=t(420),m=t(6607),h=t(5816),f=t(5696),g=t(4569),x=t.n(g),y=t(4984),v=t(7689),w=t(184);var b=d.ZP.div(r||(r=(0,a.Z)(['\n  .updateproduct-container {\n    width: 60vw;\n    margin: 0 auto;\n    padding: 20px;\n    display: grid;\n    gap: 2rem;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    form {\n      display: grid;\n      gap: 2rem;\n    }\n    .color-container {\n      display: flex;\n      justify-content: center;\n      text-align: center;\n\n      flex-direction: column;\n    }\n    .colors {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 1rem;\n      margin: auto;\n\n      .color-box {\n        display: flex;\n        align-items: center;\n        margin-right: 10px;\n      }\n\n      .color {\n        width: 2.5rem;\n        height: 2.5rem;\n        border-radius: 50%;\n        box-shadow: 0px 0px 5px 2px #dad9db;\n      }\n\n      .cross {\n        color: #ff0000;\n        cursor: pointer;\n        margin-left: 5px;\n      }\n    }\n  }\n\n  input[type="submit"] {\n    cursor: pointer;\n    transition: all 0.2s;\n\n    min-width: fit-content;\n    margin: 3rem auto;\n    &:hover {\n      background-color: ',";\n      border: 1px solid ",";\n      color: ",';\n      transform: scale(0.9);\n    }\n  }\n  label,\n  h3 {\n    font-size: 1.75rem;\n    font-weight: bold;\n    font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",\n      "Lucida Sans", Arial, sans-serif;\n  }\n\n  @media (max-width: 998px) {\n    .updateproduct-container {\n      width: 100dvw;\n    }\n    input,\n    textarea {\n      min-width: 60dvw;\n    }\n  }\n\n  @media (max-width: 768px) {\n    .updateproduct-container {\n      width: 100dvw;\n    }\n    input,\n    textarea {\n      min-width: 70dvw;\n    }\n  }\n  @media (max-width: 400px) {\n    .updateproduct-container {\n      width: 100dvw;\n    }\n    input,\n    textarea {\n      min-width: 90dvw;\n    }\n  }\n'])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.btn}),(function(n){return n.theme.colors.btn}));e.default=function(){var n=(0,p.S)().dispatchUser,e=(0,c.useState)(!1),t=(0,i.Z)(e,2),r=t[0],a=t[1],d=(0,c.useState)(""),g=(0,i.Z)(d,2),O=g[0],I=g[1],T=(0,c.useState)(!1),k=(0,i.Z)(T,2),A=k[0],Z=k[1],C=(0,v.UO)().id,N=(0,v.s0)(),S="http://localhost:4000/products/singleproduct?pid=".concat(C),j="http://localhost:4000/products/updateproduct?pid=".concat(C),_=(0,c.useReducer)(u.Z,{name:"",company:"",price:0,description:"",category:"",shipping:!1,featured:!1,stock:0,reviews:0,stars:5,colors:[]}),L=(0,i.Z)(_,2),R=L[0],E=L[1],F=localStorage.getItem("userToken");(0,c.useEffect)((function(){var e=new AbortController;if(F){var t=(0,y.p)(F,"sX8nD4zH1cT6kA2yP7uV3wR9qG5pL0J9");I(t);var r=function(){var r=(0,s.Z)((0,o.Z)().mark((function r(){var a,s;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x().get(S,{signal:e.signal,headers:{authorization:t}});case 3:a=r.sent,s=a.data,E({type:"DATA_FROM_SERVER",payload:s.singleproduct[0]}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n({type:"SHOW_NOTIFICATION",payload:{message:r.t0.response.data.message,color:"red"}});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}();r()}else n({type:"SHOW_NOTIFICATION",payload:{message:"You must be logged in to Update your product",color:"red"}}),n({type:"OPEN_LOGIN"}),N("/");return function(){e.abort()}}),[]);var H=(0,c.useCallback)((function(e){R.colors.includes(e)?n({type:"SHOW_NOTIFICATION",payload:{message:"You have already selected that color",color:"red"}}):E({type:"ADD_COLOR",payload:e})}),[R.colors]),P=(0,c.useCallback)((function(n){E({type:"REMOVE_COLOR",payload:n})}),[R.colors]),U=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var r,s,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a(!0),t.preventDefault(),delete R.images,!Object.values(R).every((function(n){return""!==n&&(!Array.isArray(n)||n.length>0)}))){e.next=15;break}return r={},Object.keys(R).forEach((function(n){var e=R[n];r[n]="string"===typeof e?e.toLowerCase().trim():e})),e.next=9,x().put(j,r,{headers:{authorization:O}});case 9:s=e.sent,i=s.data,n({type:"SHOW_NOTIFICATION",payload:{message:i.message,color:"green"}}),Z(!0),e.next=16;break;case 15:n({type:"SHOW_NOTIFICATION",payload:{message:"Please fill in all product details before submitting.",color:"red"}});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),n({type:"SHOW_NOTIFICATION",payload:{message:e.t0.response.data.message,color:"red"}});case 21:return e.prev=21,window.scrollTo(0,0),a(!1),e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[0,18,21,25]])})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsx)(b,{children:A?(0,w.jsx)(l.Z,{productName:R.name.toLowerCase().trim()}):(0,w.jsxs)("div",{className:"updateproduct-container",children:[(0,w.jsx)("h2",{style:{marginBottom:"1rem"},children:"Update Product!"}),(0,w.jsxs)("form",{onSubmit:U,children:[(0,w.jsx)(h.Z,{dispatchAddProduct:E,state:R,updation:!0}),(0,w.jsx)(f.Z,{dispatchAddProduct:E,stars:R.stars}),(0,w.jsx)(m.Z,{colors:R.colors,addcolorToArray:H,removeColor:P}),(0,w.jsx)("div",{children:r?(0,w.jsx)("input",{type:"submit",value:"Loading..",disabled:!0}):(0,w.jsx)("input",{type:"submit",value:"Update product"})})]})]})})}}}]);
//# sourceMappingURL=891.d349c808.chunk.js.map