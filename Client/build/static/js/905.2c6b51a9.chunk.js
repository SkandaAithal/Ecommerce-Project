/*! For license information please see 905.2c6b51a9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[905],{2905:function(n,e,t){t.r(e);var r,a=t(168),o=t(4165),s=t(5861),i=t(9439),c=t(2791),d=t(6031),u=t(6991),l=t(1493),p=t(420),m=t(6607),f=t(5816),h=t(5696),x=t(4569),y=t.n(x),g=t(4984),w=t(7689),v=t(184);var b=d.ZP.div(r||(r=(0,a.Z)(['\n  .addproduct-container {\n    width: 60vw;\n    margin: 0 auto;\n    padding: 20px;\n    display: grid;\n    gap: 2rem;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    form {\n      display: grid;\n      gap: 2rem;\n    }\n    .color-container {\n      display: flex;\n      justify-content: center;\n      text-align: center;\n\n      flex-direction: column;\n    }\n    .colors {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 1rem;\n      margin: auto;\n\n      .color-box {\n        display: flex;\n        align-items: center;\n        margin-right: 10px;\n      }\n\n      .color {\n        width: 2.5rem;\n        height: 2.5rem;\n        border-radius: 50%;\n\n        box-shadow: 0px 0px 5px 2px #dad9db;\n      }\n\n      .cross {\n        color: #ff0000;\n        cursor: pointer;\n        margin-left: 5px;\n      }\n    }\n  }\n\n  input[type="submit"] {\n    cursor: pointer;\n    transition: all 0.2s;\n\n    min-width: fit-content;\n    margin: 3rem auto;\n    &:hover {\n      background-color: ',";\n      border: 1px solid ",";\n      color: ",';\n      transform: scale(0.9);\n    }\n  }\n  label,\n  h3 {\n    font-size: 1.75rem;\n    font-weight: bold;\n    font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",\n      "Lucida Sans", Arial, sans-serif;\n  }\n\n  @media (max-width: 998px) {\n    .addproduct-container {\n      width: 100dvw;\n    }\n    input,\n    textarea {\n      min-width: 60dvw;\n    }\n  }\n\n  @media (max-width: 768px) {\n    .addproduct-container {\n      width: 100dvw;\n    }\n    input,\n    textarea {\n      min-width: 70dvw;\n    }\n  }\n  @media (max-width: 400px) {\n    .addproduct-container {\n      width: 100dvw;\n    }\n    input,\n    textarea {\n      min-width: 90dvw;\n    }\n  }\n'])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.btn}),(function(n){return n.theme.colors.btn}));e.default=function(){var n=(0,l.S)().dispatchUser,e=(0,c.useState)(!1),t=(0,i.Z)(e,2),r=t[0],a=t[1],d=(0,c.useState)(""),x=(0,i.Z)(d,2),O=x[0],I=x[1],k=(0,c.useState)(!1),j=(0,i.Z)(k,2),A=j[0],T=j[1],C=(0,w.s0)(),N=(0,c.useReducer)(u.Z,{name:"",company:"",price:"",description:"",category:"",shipping:!0,featured:!1,stock:"",reviews:"",stars:5,colors:[]}),S=(0,i.Z)(N,2),Z=S[0],L=S[1],P=localStorage.getItem("userToken");(0,c.useEffect)((function(){if(P){var e=(0,g.p)(P,"sX8nD4zH1cT6kA2yP7uV3wR9qG5pL0J9");I(e)}else n({type:"SHOW_NOTIFICATION",payload:{message:"You must be logged in to add your product",color:"red"}}),n({type:"OPEN_LOGIN"}),C("/")}),[Z]);var _=(0,c.useCallback)((function(e){Z.colors.includes(e)?n({type:"SHOW_NOTIFICATION",payload:{message:"You have already selected that color",color:"red"}}):L({type:"ADD_COLOR",payload:e})}),[Z.colors]),H=(0,c.useCallback)((function(n){L({type:"REMOVE_COLOR",payload:n})}),[Z.colors]),E=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a(!0),t.preventDefault(),!Object.values(Z).every((function(n){return""!==n&&(!Array.isArray(n)||n.length>0)}))){e.next=12;break}return r={},Object.keys(Z).forEach((function(n){var e=Z[n];r[n]="string"===typeof e?e.toLowerCase().trim():e})),e.next=8,y().post("https://ecommerce-server.uk.to/products/addproduct",r,{headers:{authorization:O}});case 8:n({type:"SHOW_NOTIFICATION",payload:{message:"Your Product has been successfully submitted",color:"green"}}),T(!0),e.next=13;break;case 12:n({type:"SHOW_NOTIFICATION",payload:{message:"Please fill in all product details before submitting.",color:"red"}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),n({type:"SHOW_NOTIFICATION",payload:{message:e.t0.response.data.message,color:"red"}});case 18:return e.prev=18,window.scrollTo(0,0),a(!1),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[0,15,18,22]])})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsx)(b,{children:A?(0,v.jsx)(p.Z,{productName:Z.name.toLowerCase().trim()}):(0,v.jsxs)("div",{className:"addproduct-container",children:[(0,v.jsx)("h2",{style:{marginBottom:"1rem"},children:"Add Your Product!"}),(0,v.jsxs)("form",{onSubmit:E,children:[(0,v.jsx)(f.Z,{dispatchAddProduct:L,state:Z,updation:!1}),(0,v.jsx)(h.Z,{dispatchAddProduct:L,stars:Z.stars}),(0,v.jsx)(m.Z,{colors:Z.colors,addcolorToArray:_,removeColor:H}),(0,v.jsx)("div",{children:r?(0,v.jsx)("input",{type:"submit",value:"Loading..",disabled:!0}):(0,v.jsx)("input",{type:"submit",value:"Add product"})})]})]})})}}}]);
//# sourceMappingURL=905.2c6b51a9.chunk.js.map